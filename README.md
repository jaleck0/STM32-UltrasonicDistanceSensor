A code example for using an HC-SR04 ultrasonic distance sensor on the STM32 using register control in the STM Cube framework. 
Code was tested on an STM32 Nucleo-64 sporting a STM32 Nucleo-F303RE chip.
Distance sensor measures the distance and sends the result out over serial in centimeters.

![wiring schematic.](/img/distancesensorschematic.PNG)
wiring schematic to get it working